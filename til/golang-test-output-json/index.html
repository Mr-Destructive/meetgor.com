<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>Golang: Test Output JSON | Meet Gor</title>
    <meta name="title" content="Golang: Test Output JSON | Meet Gor">
    <meta name="description" content="Obtain JSON output of test results in Golang">
    <meta name="author" content="Meet Gor">
    <meta name="keywords" content="go">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="meetgor.com/til/golang-test-output-json">
    
    
    <meta property="og:type" content="article">
    <meta property="og:url" content="meetgor.com/til/golang-test-output-json">
    <meta property="og:title" content="Golang: Test Output JSON | Meet Gor">
    <meta property="og:description" content="Obtain JSON output of test results in Golang">
    <meta property="og:image" content="meetgor.com/tbicon.png">
    <meta property="og:site_name" content="Meet Gor">
    <meta property="article:published_time" content="2024-01-01">
    <meta property="article:modified_time" content="2024-01-01">
    <meta property="article:author" content="Meet Gor">
    
    <meta property="article:tag" content="go">
    
    
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@meetgor711">
    <meta name="twitter:creator" content="@meetgor711">
    <meta name="twitter:url" content="meetgor.com/til/golang-test-output-json">
    <meta name="twitter:title" content="Golang: Test Output JSON | Meet Gor">
    <meta name="twitter:description" content="Obtain JSON output of test results in Golang">
    <meta name="twitter:image" content="meetgor.com/tbicon.png">
    
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "meetgor.com/til\/golang-test-output-json"
        },
        "headline": "Golang: Test Output JSON",
        "description": "Obtain JSON output of test results in Golang",
        "datePublished": "2024-01-01",
        "dateModified": "2024-01-01",
        "author": {
            "@type": "Person",
            "name": "Meet Gor"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Meet Gor",
            "logo": {
                "@type": "ImageObject",
                "url": "meetgor.com/tbicon.png"
            }
        },
        
        "keywords": "go",
        "articleBody": "\u0026lt;p\u0026gt;I just discovered that we can generate a JSON output of test results in Golang. I found this \u0026lt;a href=\u0026#34;https:\/\/youtu.be\/cf72gMBrsI0?t=80\u0026#34;\u0026gt;here\u0026lt;\/a\u0026gt;.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;Let\u0026#39;s take a fresh simple example.\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;go\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-go\u0026#34;\u0026gt;package jsontest\n\nfunc hello() string {\n    return \u0026#34;Hello, World!\u0026#34;\n}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;go\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-go\u0026#34;\u0026gt;package jsontest\n\nimport (\n    \u0026#34;testing\u0026#34;\n)\n\nfunc TestHello(t *testing.T) {\n    want := \u0026#34;Hello, World!\u0026#34;\n    got := hello()\n    t.Logf(\u0026#34;got: %q\u0026#34;, got)\n    if got != want {\n        t.Errorf(\u0026#34;got: %q, want: %q\u0026#34;, got, want)\n    }\n}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;Here, we have a function \u0026lt;code\u0026gt;hello\u0026lt;\/code\u0026gt; that simply returns a string, the \u0026lt;code\u0026gt;TestHello\u0026lt;\/code\u0026gt; function in the \u0026lt;code\u0026gt;jsontest\u0026lt;\/code\u0026gt; package will check if the returned string is correctly returned or not.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;So, we can test this with \u0026lt;code\u0026gt;go test .\/...\u0026lt;\/code\u0026gt; command, this will give out the output in a standard output\/error in text format. However, if we add the \u0026lt;code\u0026gt;-json\u0026lt;\/code\u0026gt; flag, we can get the output in JSON format.\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;bash\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-bash\u0026#34;\u0026gt;go test .\/... -json\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;json\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-json\u0026#34;\u0026gt;{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.861974085\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;start\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863133332\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;run\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863142397\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;=== RUN   TestHello\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863148346\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;    main_test.go:10: got: \\\u0026#34;Hello, World\\\u0026#34;\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863151351\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;    main_test.go:12: got: \\\u0026#34;Hello, World\\\u0026#34;, want: \\\u0026#34;Hello, World!\\\u0026#34;\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863157014\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;--- FAIL: TestHello (0.00s)\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863160418\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;fail\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Elapsed\u0026#34;:0}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863411555\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;FAIL\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863438344\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;FAIL\\tjson-test\\t0.001s\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T20:52:45.863443461\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;fail\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;json-test\u0026#34;,\u0026#34;Elapsed\u0026#34;:0.001}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;Pretty cool right?\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;This is really useful for programmatically taking the output and parsing it to get the metrics.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;We can even combine with the coverage flag to get the coverage metrics as well.\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;bash\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-bash\u0026#34;\u0026gt;go test .\/... -json -cover\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;json\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-json\u0026#34;\u0026gt;{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.771976961\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;start\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.775118482\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;run\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.775172535\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;=== RUN   TestHello\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.775201647\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;    main_test.go:10: got: \\\u0026#34;Hello, World!\\\u0026#34;\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.775231759\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;--- PASS: TestHello (0.00s)\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.775253928\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;pass\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestHello\u0026#34;,\u0026#34;Elapsed\u0026#34;:0}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.775269402\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;PASS\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.776153185\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;coverage: 100.0% of statements\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.776808599\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;ok  \\tjsontest\\t0.004s\\tcoverage: 100.0% of statements\\n\u0026#34;\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:13:30.777814589\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;pass\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Elapsed\u0026#34;:0.006}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;I am planning to use this in my workflow for integrating the output of the tests suite with specific tests.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;For running the specific tests, you can use \u0026lt;code\u0026gt;go test -run TestName\u0026lt;\/code\u0026gt; command, this will only run the provided test function.\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;go\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-go\u0026#34;\u0026gt;\/\/ main.go\n\npackage jsontest\n\nfunc hello() string {\n    return \u0026#34;Hello, World!\u0026#34;\n}\n\nfunc add(x, y int) int {\n    return x \u002b y\n}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;go\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-go\u0026#34;\u0026gt;\/\/ main_test.go\npackage jsontest\n\nimport (\n\t\u0026#34;testing\u0026#34;\n)\n\nfunc TestHello(t *testing.T) {\n    want := \u0026#34;Hello, World!\u0026#34;\n    got := hello()\n    t.Logf(\u0026#34;got: %q\u0026#34;, got)\n    if got != want {\n        t.Errorf(\u0026#34;got: %q, want: %q\u0026#34;, got, want)\n    }\n}\n\nfunc TestAdd(t *testing.T) {\n    want := 2\n    got := add(1, 1)\n    t.Logf(\u0026#34;got: %d\u0026#34;, got)\n    if got != want {\n        t.Errorf(\u0026#34;got: %d, want: %d\u0026#34;, got, want)\n    }\n}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;So, we have two test in this go module, we can run a specific test using \u0026lt;code\u0026gt;go test -run TestName\u0026lt;\/code\u0026gt; command as so:\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;bash\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-bash\u0026#34;\u0026gt;go test -run TestAdd -json\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;json\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-json\u0026#34;\u0026gt;{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.19397581\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;start\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198067398\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;run\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestAdd\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198150156\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestAdd\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;=== RUN   TestAdd\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198197444\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestAdd\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;    main_test.go:19: got: 2\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198217057\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestAdd\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;--- PASS: TestAdd (0.00s)\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198230965\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;pass\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Test\u0026#34;:\u0026#34;TestAdd\u0026#34;,\u0026#34;Elapsed\u0026#34;:0}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198241628\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;PASS\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.19869148\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;output\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Output\u0026#34;:\u0026#34;ok  \\tjsontest\\t0.004s\\n\u0026#34;}\n{\u0026#34;Time\u0026#34;:\u0026#34;2024-01-01T21:33:44.198822637\u002b05:30\u0026#34;,\u0026#34;Action\u0026#34;:\u0026#34;pass\u0026#34;,\u0026#34;Package\u0026#34;:\u0026#34;jsontest\u0026#34;,\u0026#34;Elapsed\u0026#34;:0.005}\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;As we can see, there is only one test being executed and the output of the test is in JSON format.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;These are really good flags and options to have as they make the output more portable. I will be planning to use this to improve my workflow in testing and developing open source projects and personal projects as well. I am really inspired by the Teej\u0026#39;s video of executing anything in NeoVim.\u0026lt;\/p\u0026gt;\n"
    }
    </script>
    
    
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/code-block.css">
    
    <link rel="icon" href="/tbicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/tbicon.png">
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link id="syntax-theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.13.0/sql-wasm.js"></script>
    <link rel="stylesheet" href="/sql-playground.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/monokai.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/sql/sql.min.js"></script>
    <script src="/sql-playground.js"></script>
    
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const body = document.body;
        const stylesheet = document.getElementById("syntax-theme");
        const themeToggle = document.getElementById('theme-toggle');

        function setSyntaxTheme(theme) {
            if (theme === "secondary") {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css";
            } else {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css";
            }
        }

        
        document.querySelectorAll("pre code").forEach((block) => {
            hljs.highlightElement(block);
        });

        
        const currentTheme = localStorage.getItem("theme") || "default";
        if (currentTheme === "secondary") {
            body.classList.add("secondary-theme");
            if (themeToggle) themeToggle.checked = true;
        }
        setSyntaxTheme(currentTheme);

        
        if (themeToggle) {
            themeToggle.addEventListener('change', () => {
                const newTheme = themeToggle.checked ? 'secondary' : 'default';
                if (themeToggle.checked) {
                    body.classList.add('secondary-theme');
                } else {
                    body.classList.remove('secondary-theme');
                }
                localStorage.setItem('theme', newTheme);
                setSyntaxTheme(newTheme);
            });
        }
        
        
        const editBtn = document.getElementById('editor-edit');
        if (editBtn) {
            editBtn.addEventListener('click', async function () {
                const slug = "til\/golang-test-output-json";
                const type = "til";
                console.log("Editing post:", slug, type);
                const url = "https:\/\/devmeetgor.netlify.app/.netlify/functions/api?slug=" + slug + "&method=edit&type=" + type;
                
                try {
                    const res = await fetch(url);
                    if (!res.ok) throw new Error("Failed to fetch edit content");
                    const html = await res.text();
                    document.querySelector('.post-content').innerHTML = html;
                } catch (err) {
                    console.error(err);
                    alert("Error loading editor content");
                }
            });
        }
    });
    </script>
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EET2ZX4QY1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EET2ZX4QY1');
    </script>
</head>
<body>
    <header class="header">
  <a class="site-title" href="/" aria-label="Meet Gor - Home">Meet Gor</a>
  <nav>
    <ul>
      <li><a href="/" aria-label="Home">Home</a></li>
      <li><a href="/posts" aria-label="Posts">Posts</a></li>
      <li><a href="/about" aria-label="About">About</a></li>
      <li><a href="/contact" aria-label="Contact">Contact</a></li>
    </ul>
  </nav>
  <div class="theme-switch">
    <input type="checkbox" id="theme-toggle" aria-label="Toggle Theme">
    <label for="theme-toggle"></label>
  </div>
  
</header>
    
    <main class="container">
        <article class="blog-post">
            <h1>Golang: Test Output JSON</h1>
            
            <div class="post-meta">
                Published on 📅 <time datetime="2024-01-01">2024-01-01</time>
            </div>
            
            <div class="post-meta">
                Type: <a href="/til">til</a>
            </div>
            
            <div class="post-meta tags">
                <span class="post-series-label">🏷️ Tags:</span>
                
                <a href="/tags/go">#go</a>
                
            </div>
            
            
            
            
            
            <hr>
            
            <div class="post-content">
                <p>I just discovered that we can generate a JSON output of test results in Golang. I found this <a href="https://youtu.be/cf72gMBrsI0?t=80">here</a>.</p>
<p>Let's take a fresh simple example.</p>
<div class="code-block"><div class="code-header"><span class="language-name">go</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-go">package jsontest

func hello() string {
    return "Hello, World!"
}
</code></pre></div><div class="code-block"><div class="code-header"><span class="language-name">go</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-go">package jsontest

import (
    "testing"
)

func TestHello(t *testing.T) {
    want := "Hello, World!"
    got := hello()
    t.Logf("got: %q", got)
    if got != want {
        t.Errorf("got: %q, want: %q", got, want)
    }
}
</code></pre></div><p>Here, we have a function <code>hello</code> that simply returns a string, the <code>TestHello</code> function in the <code>jsontest</code> package will check if the returned string is correctly returned or not.</p>
<p>So, we can test this with <code>go test ./...</code> command, this will give out the output in a standard output/error in text format. However, if we add the <code>-json</code> flag, we can get the output in JSON format.</p>
<div class="code-block"><div class="code-header"><span class="language-name">bash</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-bash">go test ./... -json
</code></pre></div><div class="code-block"><div class="code-header"><span class="language-name">json</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-json">{"Time":"2024-01-01T20:52:45.861974085+05:30","Action":"start","Package":"json-test"}
{"Time":"2024-01-01T20:52:45.863133332+05:30","Action":"run","Package":"json-test","Test":"TestHello"}
{"Time":"2024-01-01T20:52:45.863142397+05:30","Action":"output","Package":"json-test","Test":"TestHello","Output":"=== RUN   TestHello\n"}
{"Time":"2024-01-01T20:52:45.863148346+05:30","Action":"output","Package":"json-test","Test":"TestHello","Output":"    main_test.go:10: got: \"Hello, World\"\n"}
{"Time":"2024-01-01T20:52:45.863151351+05:30","Action":"output","Package":"json-test","Test":"TestHello","Output":"    main_test.go:12: got: \"Hello, World\", want: \"Hello, World!\"\n"}
{"Time":"2024-01-01T20:52:45.863157014+05:30","Action":"output","Package":"json-test","Test":"TestHello","Output":"--- FAIL: TestHello (0.00s)\n"}
{"Time":"2024-01-01T20:52:45.863160418+05:30","Action":"fail","Package":"json-test","Test":"TestHello","Elapsed":0}
{"Time":"2024-01-01T20:52:45.863411555+05:30","Action":"output","Package":"json-test","Output":"FAIL\n"}
{"Time":"2024-01-01T20:52:45.863438344+05:30","Action":"output","Package":"json-test","Output":"FAIL\tjson-test\t0.001s\n"}
{"Time":"2024-01-01T20:52:45.863443461+05:30","Action":"fail","Package":"json-test","Elapsed":0.001}
</code></pre></div><p>Pretty cool right?</p>
<p>This is really useful for programmatically taking the output and parsing it to get the metrics.</p>
<p>We can even combine with the coverage flag to get the coverage metrics as well.</p>
<div class="code-block"><div class="code-header"><span class="language-name">bash</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-bash">go test ./... -json -cover
</code></pre></div><div class="code-block"><div class="code-header"><span class="language-name">json</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-json">{"Time":"2024-01-01T21:13:30.771976961+05:30","Action":"start","Package":"jsontest"}
{"Time":"2024-01-01T21:13:30.775118482+05:30","Action":"run","Package":"jsontest","Test":"TestHello"}
{"Time":"2024-01-01T21:13:30.775172535+05:30","Action":"output","Package":"jsontest","Test":"TestHello","Output":"=== RUN   TestHello\n"}
{"Time":"2024-01-01T21:13:30.775201647+05:30","Action":"output","Package":"jsontest","Test":"TestHello","Output":"    main_test.go:10: got: \"Hello, World!\"\n"}
{"Time":"2024-01-01T21:13:30.775231759+05:30","Action":"output","Package":"jsontest","Test":"TestHello","Output":"--- PASS: TestHello (0.00s)\n"}
{"Time":"2024-01-01T21:13:30.775253928+05:30","Action":"pass","Package":"jsontest","Test":"TestHello","Elapsed":0}
{"Time":"2024-01-01T21:13:30.775269402+05:30","Action":"output","Package":"jsontest","Output":"PASS\n"}
{"Time":"2024-01-01T21:13:30.776153185+05:30","Action":"output","Package":"jsontest","Output":"coverage: 100.0% of statements\n"}
{"Time":"2024-01-01T21:13:30.776808599+05:30","Action":"output","Package":"jsontest","Output":"ok  \tjsontest\t0.004s\tcoverage: 100.0% of statements\n"
{"Time":"2024-01-01T21:13:30.777814589+05:30","Action":"pass","Package":"jsontest","Elapsed":0.006}
</code></pre></div><p>I am planning to use this in my workflow for integrating the output of the tests suite with specific tests.</p>
<p>For running the specific tests, you can use <code>go test -run TestName</code> command, this will only run the provided test function.</p>
<div class="code-block"><div class="code-header"><span class="language-name">go</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-go">// main.go

package jsontest

func hello() string {
    return "Hello, World!"
}

func add(x, y int) int {
    return x + y
}
</code></pre></div><div class="code-block"><div class="code-header"><span class="language-name">go</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-go">// main_test.go
package jsontest

import (
	"testing"
)

func TestHello(t *testing.T) {
    want := "Hello, World!"
    got := hello()
    t.Logf("got: %q", got)
    if got != want {
        t.Errorf("got: %q, want: %q", got, want)
    }
}

func TestAdd(t *testing.T) {
    want := 2
    got := add(1, 1)
    t.Logf("got: %d", got)
    if got != want {
        t.Errorf("got: %d, want: %d", got, want)
    }
}
</code></pre></div><p>So, we have two test in this go module, we can run a specific test using <code>go test -run TestName</code> command as so:</p>
<div class="code-block"><div class="code-header"><span class="language-name">bash</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-bash">go test -run TestAdd -json
</code></pre></div><div class="code-block"><div class="code-header"><span class="language-name">json</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-json">{"Time":"2024-01-01T21:33:44.19397581+05:30","Action":"start","Package":"jsontest"}
{"Time":"2024-01-01T21:33:44.198067398+05:30","Action":"run","Package":"jsontest","Test":"TestAdd"}
{"Time":"2024-01-01T21:33:44.198150156+05:30","Action":"output","Package":"jsontest","Test":"TestAdd","Output":"=== RUN   TestAdd\n"}
{"Time":"2024-01-01T21:33:44.198197444+05:30","Action":"output","Package":"jsontest","Test":"TestAdd","Output":"    main_test.go:19: got: 2\n"}
{"Time":"2024-01-01T21:33:44.198217057+05:30","Action":"output","Package":"jsontest","Test":"TestAdd","Output":"--- PASS: TestAdd (0.00s)\n"}
{"Time":"2024-01-01T21:33:44.198230965+05:30","Action":"pass","Package":"jsontest","Test":"TestAdd","Elapsed":0}
{"Time":"2024-01-01T21:33:44.198241628+05:30","Action":"output","Package":"jsontest","Output":"PASS\n"}
{"Time":"2024-01-01T21:33:44.19869148+05:30","Action":"output","Package":"jsontest","Output":"ok  \tjsontest\t0.004s\n"}
{"Time":"2024-01-01T21:33:44.198822637+05:30","Action":"pass","Package":"jsontest","Elapsed":0.005}
</code></pre></div><p>As we can see, there is only one test being executed and the output of the test is in JSON format.</p>
<p>These are really good flags and options to have as they make the output more portable. I will be planning to use this to improve my workflow in testing and developing open source projects and personal projects as well. I am really inspired by the Teej's video of executing anything in NeoVim.</p>

            </div>
        </article>
    </main>
    
    <div id="comments">
        <script src="https://giscus.app/client.js"
            data-repo="Mr-Destructive/meetgor.com"
            data-repo-id="R_kgDOHZ6V_g"
            data-category="Q&A"
            data-category-id="DIC_kwDOHZ6V_s4CRfn4"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="dark_high_contrast"
            data-lang="en"
            crossorigin="anonymous"
            async>
        </script>
    </div>
    
    <footer class="site-footer" role="contentinfo">
  <div class="footer-content">
    <p>&copy; Meet Gor. All rights reserved.</p>
    <div class="social-links">
      <a href="/contact" aria-label="Connect with me">Connect with me</a>
    </div>
  </div>
</footer>
    
</body>
</html>
