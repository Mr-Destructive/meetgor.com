<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>SQLite importing CSV with custom separator | Meet Gor</title>
    <meta name="title" content="SQLite importing CSV with custom separator | Meet Gor">
    <meta name="description" content="Explorng SQLite CLI with inline CSV import command with custom separator">
    <meta name="author" content="Meet Gor">
    <meta name="keywords" content="sqlite">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="meetgor.com/til/sqlite-inline-custom-separator">
    
    
    <meta property="og:type" content="article">
    <meta property="og:url" content="meetgor.com/til/sqlite-inline-custom-separator">
    <meta property="og:title" content="SQLite importing CSV with custom separator | Meet Gor">
    <meta property="og:description" content="Explorng SQLite CLI with inline CSV import command with custom separator">
    <meta property="og:image" content="meetgor.com/tbicon.png">
    <meta property="og:site_name" content="Meet Gor">
    <meta property="article:published_time" content="2024-03-15">
    <meta property="article:modified_time" content="2024-03-15">
    <meta property="article:author" content="Meet Gor">
    
    <meta property="article:tag" content="sqlite">
    
    
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@meetgor711">
    <meta name="twitter:creator" content="@meetgor711">
    <meta name="twitter:url" content="meetgor.com/til/sqlite-inline-custom-separator">
    <meta name="twitter:title" content="SQLite importing CSV with custom separator | Meet Gor">
    <meta name="twitter:description" content="Explorng SQLite CLI with inline CSV import command with custom separator">
    <meta name="twitter:image" content="meetgor.com/tbicon.png">
    
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "meetgor.com/til\/sqlite-inline-custom-separator"
        },
        "headline": "SQLite importing CSV with custom separator",
        "description": "Explorng SQLite CLI with inline CSV import command with custom separator",
        "datePublished": "2024-03-15",
        "dateModified": "2024-03-15",
        "author": {
            "@type": "Person",
            "name": "Meet Gor"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Meet Gor",
            "logo": {
                "@type": "ImageObject",
                "url": "meetgor.com/tbicon.png"
            }
        },
        
        "keywords": "sqlite",
        "articleBody": "\u0026lt;p\u0026gt;explaination about how i learned how to write a command for importing a csv\ninto a sqlite3 db with cusotm Separator with a single command inline\u0026lt;\/p\u0026gt;\n\u0026lt;h2 id=\u0026#34;introduction\u0026#34;\u0026gt;Introduction\u0026lt;\/h2\u0026gt;\n\u0026lt;p\u0026gt;I was exploring some Issues that I can solve given the context of the problem and the intution for the solution.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;I have some github repositories that I always look for to learn more. Some of them are:\u0026lt;\/p\u0026gt;\n\u0026lt;ul\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;https:\/\/github.com\/turbot\/steampipe\u0026#34;\u0026gt;Steampipe\u0026lt;\/a\u0026gt;\u0026lt;\/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;https:\/\/github.com\/mindsdb\/mindsdb\u0026#34;\u0026gt;MindsDB\u0026lt;\/a\u0026gt;\u0026lt;\/li\u0026gt;\n\u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;https:\/\/github.com\/tursodatabase\u0026#34;\u0026gt;Turso\u0026lt;\/a\u0026gt;\u0026lt;\/li\u0026gt;\n\u0026lt;\/ul\u0026gt;\n\u0026lt;p\u0026gt;So, navigating around for a few minutes, I landed on this \u0026lt;a href=\u0026#34;https:\/\/github.com\/tursodatabase\/turso-cli\/issues\/811\u0026#34;\u0026gt;issue\u0026lt;\/a\u0026gt;.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;The issue is really well explained in terms of what the feature is to be added, how the usage should be, which for a contributor is half the job done.\u0026lt;\/p\u0026gt;\n\u0026lt;h2 id=\u0026#34;what\u0026#34;\u0026gt;What?\u0026lt;\/h2\u0026gt;\n\u0026lt;p\u0026gt;The \u0026lt;a href=\u0026#34;https:\/\/github.com\/tursodatabase\/turso-cli\u0026#34;\u0026gt;turso-cli\u0026lt;\/a\u0026gt; is a CLI for \u0026lt;a href=\u0026#34;https:\/\/github.com\/tursodatabase\/turso\u0026#34;\u0026gt;Turso\u0026lt;\/a\u0026gt; that is used to manage libsql databases with the \u0026lt;a href=\u0026#34;https:\/\/turso.tech\u0026#34;\u0026gt;turso\u0026lt;\/a\u0026gt; platform.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;This issue is about adding a flag to the \u0026lt;code\u0026gt;db create\u0026lt;\/code\u0026gt; command to allow the user to pass in a custom separator while imporing a csv file into a sqlite3 database.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;The only puzzle piece left is to answer the question \u0026lt;code\u0026gt;how\u0026lt;\/code\u0026gt;?\u0026lt;\/p\u0026gt;\n\u0026lt;h2 id=\u0026#34;how\u0026#34;\u0026gt;How?\u0026lt;\/h2\u0026gt;\n\u0026lt;p\u0026gt;So, I went in to the Codebase and found where the \u0026lt;code\u0026gt;db create\u0026lt;\/code\u0026gt; command has been handled and landed on this \u0026lt;a href=\u0026#34;https:\/\/sourcegraph.com\/github.com\/tursodatabase\/turso-cli\/-\/blob\/internal\/cmd\/db_create.go\u0026#34;\u0026gt;file\u0026lt;\/a\u0026gt;\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;While controbuting to open source, I try to do the small steps and solve try to maintain the excitment with that progress. Because if you cannot find the solution, you try to procastinate and in the end nothing gets accomplished. So, breaking down the problem into small chunks is much helpful than solving the entire problem.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;In this case, I  tried to add the flag in the cli which is pretty straight forward. We just add one more entry in the list of flags in the \u0026lt;code\u0026gt;db create\u0026lt;\/code\u0026gt; command. This step is just to add a functional CLI for taking the input of csv-separator string, however, this won\u0026#39;t do anything for the functionality part of things, just allow the user to specify the separator\/delimitor to use for parsing the CSV file.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;Currently, the command that \u0026lt;code\u0026gt;turso db create\u0026lt;\/code\u0026gt; uses under the hood for creating a db from a csv file is:\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;bash\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-bash\u0026#34;\u0026gt;sqlite3 \u0026#34;-csv\u0026#34; \u0026#34;dbName\u0026#34; \u0026#34;.import \u0026lt;FileName\u0026gt; \u0026lt;TableName\u0026gt;\u0026#34;\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;The above command is found in the \u0026lt;a href=\u0026#34;https:\/\/sourcegraph.com\/github.com\/tursodatabase\/turso-cli\/-\/blob\/internal\/cmd\/group_flag.go\u0026#34;\u0026gt;group flag\u0026lt;\/a\u0026gt; file. To parse in the separator, we can use another string as \u0026lt;code\u0026gt;.separator \u0026amp;quot;;\u0026amp;quot;\u0026lt;\/code\u0026gt;, here the \u0026lt;code\u0026gt;;\u0026lt;\/code\u0026gt; is the character that should be used as the separator for the csv file into the db.\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;bash\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-bash\u0026#34;\u0026gt;sqlite3 \u0026#34;-csv\u0026#34; \u0026#34;dbname\u0026#34; \u0026#34;.separator\u0026#34; \u0026#34;;\u0026#34; \u0026#34;.import \u0026lt;FileName\u0026gt; \u0026lt;TableName\u0026gt;\u0026#34;\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;Thank you, Happy Coding :)\u0026lt;\/p\u0026gt;\n"
    }
    </script>
    
    
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/code-block.css">
    
    <link rel="icon" href="/tbicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/tbicon.png">
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link id="syntax-theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.13.0/sql-wasm.js"></script>
    <link rel="stylesheet" href="/sql-playground.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/monokai.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/sql/sql.min.js"></script>
    <script src="/sql-playground.js"></script>
    
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const body = document.body;
        const stylesheet = document.getElementById("syntax-theme");
        const themeToggle = document.getElementById('theme-toggle');

        function setSyntaxTheme(theme) {
            if (theme === "secondary") {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css";
            } else {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css";
            }
        }

        
        document.querySelectorAll("pre code").forEach((block) => {
            hljs.highlightElement(block);
        });

        
        const currentTheme = localStorage.getItem("theme") || "default";
        if (currentTheme === "secondary") {
            body.classList.add("secondary-theme");
            if (themeToggle) themeToggle.checked = true;
        }
        setSyntaxTheme(currentTheme);

        
        if (themeToggle) {
            themeToggle.addEventListener('change', () => {
                const newTheme = themeToggle.checked ? 'secondary' : 'default';
                if (themeToggle.checked) {
                    body.classList.add('secondary-theme');
                } else {
                    body.classList.remove('secondary-theme');
                }
                localStorage.setItem('theme', newTheme);
                setSyntaxTheme(newTheme);
            });
        }
        
        
        const editBtn = document.getElementById('editor-edit');
        if (editBtn) {
            editBtn.addEventListener('click', async function () {
                const slug = "til\/sqlite-inline-custom-separator";
                const type = "til";
                console.log("Editing post:", slug, type);
                const url = "https:\/\/devmeetgor.netlify.app/.netlify/functions/api?slug=" + slug + "&method=edit&type=" + type;
                
                try {
                    const res = await fetch(url);
                    if (!res.ok) throw new Error("Failed to fetch edit content");
                    const html = await res.text();
                    document.querySelector('.post-content').innerHTML = html;
                } catch (err) {
                    console.error(err);
                    alert("Error loading editor content");
                }
            });
        }
    });
    </script>
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EET2ZX4QY1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EET2ZX4QY1');
    </script>
</head>
<body>
    <header class="header">
  <a class="site-title" href="/" aria-label="Meet Gor - Home">Meet Gor</a>
  <nav>
    <ul>
      <li><a href="/" aria-label="Home">Home</a></li>
      <li><a href="/posts" aria-label="Posts">Posts</a></li>
      <li><a href="/about" aria-label="About">About</a></li>
      <li><a href="/contact" aria-label="Contact">Contact</a></li>
    </ul>
  </nav>
  <div class="theme-switch">
    <input type="checkbox" id="theme-toggle" aria-label="Toggle Theme">
    <label for="theme-toggle"></label>
  </div>
  
</header>
    
    <main class="container">
        <article class="blog-post">
            <h1>SQLite importing CSV with custom separator</h1>
            
            <div class="post-meta">
                Published on 📅 <time datetime="2024-03-15">2024-03-15</time>
            </div>
            
            <div class="post-meta">
                Type: <a href="/til">til</a>
            </div>
            
            <div class="post-meta tags">
                <span class="post-series-label">🏷️ Tags:</span>
                
                <a href="/tags/sqlite">#sqlite</a>
                
            </div>
            
            
            
            
            
            <hr>
            
            <div class="post-content">
                <p>explaination about how i learned how to write a command for importing a csv
into a sqlite3 db with cusotm Separator with a single command inline</p>
<h2 id="introduction">Introduction</h2>
<p>I was exploring some Issues that I can solve given the context of the problem and the intution for the solution.</p>
<p>I have some github repositories that I always look for to learn more. Some of them are:</p>
<ul>
<li><a href="https://github.com/turbot/steampipe">Steampipe</a></li>
<li><a href="https://github.com/mindsdb/mindsdb">MindsDB</a></li>
<li><a href="https://github.com/tursodatabase">Turso</a></li>
</ul>
<p>So, navigating around for a few minutes, I landed on this <a href="https://github.com/tursodatabase/turso-cli/issues/811">issue</a>.</p>
<p>The issue is really well explained in terms of what the feature is to be added, how the usage should be, which for a contributor is half the job done.</p>
<h2 id="what">What?</h2>
<p>The <a href="https://github.com/tursodatabase/turso-cli">turso-cli</a> is a CLI for <a href="https://github.com/tursodatabase/turso">Turso</a> that is used to manage libsql databases with the <a href="https://turso.tech">turso</a> platform.</p>
<p>This issue is about adding a flag to the <code>db create</code> command to allow the user to pass in a custom separator while imporing a csv file into a sqlite3 database.</p>
<p>The only puzzle piece left is to answer the question <code>how</code>?</p>
<h2 id="how">How?</h2>
<p>So, I went in to the Codebase and found where the <code>db create</code> command has been handled and landed on this <a href="https://sourcegraph.com/github.com/tursodatabase/turso-cli/-/blob/internal/cmd/db_create.go">file</a></p>
<p>While controbuting to open source, I try to do the small steps and solve try to maintain the excitment with that progress. Because if you cannot find the solution, you try to procastinate and in the end nothing gets accomplished. So, breaking down the problem into small chunks is much helpful than solving the entire problem.</p>
<p>In this case, I  tried to add the flag in the cli which is pretty straight forward. We just add one more entry in the list of flags in the <code>db create</code> command. This step is just to add a functional CLI for taking the input of csv-separator string, however, this won't do anything for the functionality part of things, just allow the user to specify the separator/delimitor to use for parsing the CSV file.</p>
<p>Currently, the command that <code>turso db create</code> uses under the hood for creating a db from a csv file is:</p>
<div class="code-block"><div class="code-header"><span class="language-name">bash</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-bash">sqlite3 "-csv" "dbName" ".import <FileName> <TableName>"
</code></pre></div><p>The above command is found in the <a href="https://sourcegraph.com/github.com/tursodatabase/turso-cli/-/blob/internal/cmd/group_flag.go">group flag</a> file. To parse in the separator, we can use another string as <code>.separator &quot;;&quot;</code>, here the <code>;</code> is the character that should be used as the separator for the csv file into the db.</p>
<div class="code-block"><div class="code-header"><span class="language-name">bash</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-bash">sqlite3 "-csv" "dbname" ".separator" ";" ".import <FileName> <TableName>"
</code></pre></div><p>Thank you, Happy Coding :)</p>

            </div>
        </article>
    </main>
    
    <div id="comments">
        <script src="https://giscus.app/client.js"
            data-repo="Mr-Destructive/meetgor.com"
            data-repo-id="R_kgDOHZ6V_g"
            data-category="Q&A"
            data-category-id="DIC_kwDOHZ6V_s4CRfn4"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="dark_high_contrast"
            data-lang="en"
            crossorigin="anonymous"
            async>
        </script>
    </div>
    
    <footer class="site-footer" role="contentinfo">
  <div class="footer-content">
    <p>&copy; Meet Gor. All rights reserved.</p>
    <div class="social-links">
      <a href="/contact" aria-label="Connect with me">Connect with me</a>
    </div>
  </div>
</footer>
    
</body>
</html>
