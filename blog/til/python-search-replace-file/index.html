<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>Python: Search and Replace in File | Meet Gor</title>
    <meta name="title" content="Python: Search and Replace in File | Meet Gor">
    <meta name="description" content="Perform search-replace operation in a file using python">
    <meta name="author" content="Meet Gor">
    <meta name="keywords" content="python">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://meetgor.com/til/python-search-replace-file">
    
    
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://meetgor.com/til/python-search-replace-file">
    <meta property="og:title" content="Python: Search and Replace in File">
    <meta property="og:description" content="Perform search-replace operation in a file using python">
    <meta property="og:image" content="https://meetgor.com/tbicon.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Python: Search and Replace in File">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Meet Gor">
    <meta property="article:published_time" content="2022-03-28 18:59:30">
    <meta property="article:modified_time" content="2022-03-28 18:59:30">
    <meta property="article:author" content="Meet Gor">
    
    <meta property="article:tag" content="python">
    
    
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@meetgor711">
    <meta name="twitter:creator" content="@meetgor711">
    <meta name="twitter:url" content="https://meetgor.com/til/python-search-replace-file">
    <meta name="twitter:title" content="Python: Search and Replace in File">
    <meta name="twitter:description" content="Perform search-replace operation in a file using python">
    <meta name="twitter:image" content="https://meetgor.com/tbicon.png">
    <meta name="twitter:image:alt" content="Python: Search and Replace in File">
    
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/meetgor.com/til\/python-search-replace-file"
        },
        "headline": "Python: Search and Replace in File",
        "description": "Perform search-replace operation in a file using python",
        "datePublished": "2022-03-28 18:59:30",
        "dateModified": "2022-03-28 18:59:30",
        "author": {
            "@type": "Person",
            "name": "Meet Gor"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Meet Gor",
            "logo": {
                "@type": "ImageObject",
                "url": "https:\/\/meetgor.com/tbicon.png"
            }
        },
        
        "keywords": "python",
        "articleBody": "\u0026lt;h2 id=\u0026#34;searching-and-replacing-the-text-in-a-file\u0026#34;\u0026gt;Searching and Replacing the text in a File\u0026lt;\/h2\u0026gt;\n\u0026lt;p\u0026gt;Using simple python semantics, we can perform search and replace in a file. Firstly, we will define the file name, along with the words to search and replace. After defining the sets of variables, we will open the file in \u0026lt;code\u0026gt;r\u002b\u0026lt;\/code\u0026gt; mode i.e. we can perform read as well as write operations in the file.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;We will store the entire file contents using the \u0026lt;a href=\u0026#34;https:\/\/docs.python.org\/3\/tutorial\/inputoutput.html#reading-and-writing-files\u0026#34;\u0026gt;read\u0026lt;\/a\u0026gt; function, the contents of file are now stored in the form of a string. We further can set the position of the cursor or the current position in the file using the \u0026lt;a href=\u0026#34;https:\/\/python-reference.readthedocs.io\/en\/latest\/docs\/file\/seek.html\u0026#34;\u0026gt;seek\u0026lt;\/a\u0026gt; function. The seek function takes in a optional parameter as the position to set for reading\/writing of file. Using the \u0026lt;a href=\u0026#34;https:\/\/python-reference.readthedocs.io\/en\/latest\/docs\/file\/truncate.html\u0026#34;\u0026gt;truncate\u0026lt;\/a\u0026gt; function, we can clear all the contents of the file.\u0026lt;\/p\u0026gt;\n\u0026lt;p\u0026gt;Finally, we generate the content by replacing the words i.e. the old word with the new word from the string which we store the contents. After replacing the content in the string, we write the string variable into the file and hence the substitution was performed in the text file.\u0026lt;\/p\u0026gt;\n\u0026lt;div class=\u0026#34;code-block\u0026#34;\u0026gt;\u0026lt;div class=\u0026#34;code-header\u0026#34;\u0026gt;\u0026lt;span class=\u0026#34;language-name\u0026#34;\u0026gt;python\u0026lt;\/span\u0026gt;\u0026lt;button class=\u0026#34;copy-button\u0026#34;\u0026gt;\u0026lt;svg xmlns=\u0026#34;http:\/\/www.w3.org\/2000\/svg\u0026#34; width=\u0026#34;24\u0026#34; height=\u0026#34;24\u0026#34; viewBox=\u0026#34;0 0 24 24\u0026#34; fill=\u0026#34;none\u0026#34; stroke=\u0026#34;currentColor\u0026#34; stroke-width=\u0026#34;2\u0026#34; stroke-linecap=\u0026#34;round\u0026#34; stroke-linejoin=\u0026#34;round\u0026#34; class=\u0026#34;feather feather-copy\u0026#34;\u0026gt;\u0026lt;rect x=\u0026#34;9\u0026#34; y=\u0026#34;9\u0026#34; width=\u0026#34;13\u0026#34; height=\u0026#34;13\u0026#34; rx=\u0026#34;2\u0026#34; ry=\u0026#34;2\u0026#34;\u0026gt;\u0026lt;\/rect\u0026gt;\u0026lt;path d=\u0026#34;M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\u0026#34;\u0026gt;\u0026lt;\/path\u0026gt;\u0026lt;\/svg\u0026gt;\u0026lt;\/button\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-python\u0026#34;\u0026gt;file_name = \u0026#39;temp.txt\u0026#39;\nold_text = \u0026#39;foo\u0026#39;\nnew_text = \u0026#39;python\u0026#39;\n\nwith open(file_name, \u0026#34;r\u002b\u0026#34;) as fname:\n    lines = fname.read()\n    fname.seek(0)\n    fname.truncate(0)\n    subs = lines.replace(old_text, new_text)\n    fname.write(subs)\n\u0026lt;\/code\u0026gt;\u0026lt;\/pre\u0026gt;\u0026lt;\/div\u0026gt;\u0026lt;p\u0026gt;\u0026lt;img src=\u0026#34;https:\/\/res.cloudinary.com\/techstructive-blog\/image\/upload\/v1648479344\/blog-media\/cstvfdlazyfriwvnilju.png\u0026#34; alt=\u0026#34;Python Search Replace in File\u0026#34;\u0026gt;\u0026lt;\/p\u0026gt;\n"
    }
    </script>
    
    
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/code-block.css">
    <link rel="stylesheet" href="/post-navigation.css">
    
    <link rel="icon" href="/tbicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/tbicon.png">
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <link id="syntax-theme" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.13.0/sql-wasm.js"></script>
    <link rel="stylesheet" href="/sql-playground.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/monokai.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/sql/sql.min.js"></script>
    <script src="/sql-playground.js"></script>
    
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const body = document.body;
        const stylesheet = document.getElementById("syntax-theme");
        const themeToggle = document.getElementById('theme-toggle');

        function setSyntaxTheme(theme) {
            if (theme === "secondary") {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css";
            } else {
                stylesheet.href = "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css";
            }
        }

        
        document.querySelectorAll("pre code").forEach((block) => {
            hljs.highlightElement(block);
        });

        
        const currentTheme = localStorage.getItem("theme") || "default";
        if (currentTheme === "secondary") {
            body.classList.add("secondary-theme");
            if (themeToggle) themeToggle.checked = true;
        }
        setSyntaxTheme(currentTheme);

        
        if (themeToggle) {
            themeToggle.addEventListener('change', () => {
                const newTheme = themeToggle.checked ? 'secondary' : 'default';
                if (themeToggle.checked) {
                    body.classList.add('secondary-theme');
                } else {
                    body.classList.remove('secondary-theme');
                }
                localStorage.setItem('theme', newTheme);
                setSyntaxTheme(newTheme);
            });
        }
        
        
        const editBtn = document.getElementById('editor-edit');
        if (editBtn) {
            editBtn.addEventListener('click', async function () {
                const slug = "til\/python-search-replace-file";
                const type = "til";
                console.log("Editing post:", slug, type);
                const url = "https:\/\/devmeetgor.netlify.app/.netlify/functions/api?slug=" + slug + "&method=edit&type=" + type;
                
                try {
                    const res = await fetch(url);
                    if (!res.ok) throw new Error("Failed to fetch edit content");
                    const html = await res.text();
                    document.querySelector('.post-content').innerHTML = html;
                } catch (err) {
                    console.error(err);
                    alert("Error loading editor content");
                }
            });
        }
    });
    </script>
    
    
    <script src="/seasonal-effects.js" defer></script>
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EET2ZX4QY1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EET2ZX4QY1');
    </script>
</head>
<body>
    <header class="header">
  <a class="site-title" href="/" aria-label="Meet Gor - Home">Meet Gor</a>
  <nav>
    <ul>
      <li><a href="/" aria-label="Home">Home</a></li>
      <li><a href="/posts" aria-label="Posts">Posts</a></li>
      <li><a href="/all-content" aria-label="All Content">All Content</a></li>
      <li><a href="/about" aria-label="About">About</a></li>
      <li><a href="/contact" aria-label="Contact">Contact</a></li>
    </ul>
  </nav>
  <div class="theme-switch">
    <input type="checkbox" id="theme-toggle" aria-label="Toggle Theme">
    <label for="theme-toggle"></label>
  </div>
  
</header>
    
    <main class="container">
        <article class="blog-post">
            <h1>Python: Search and Replace in File</h1>
            
            <div class="post-meta">
                Published on üìÖ <time datetime="2022-03-28 18:59:30">2022-03-28 18:59:30</time>
            </div>
            
            <div class="post-meta">
                Type: <a href="/til">til</a>
            </div>
            
            <div class="post-meta tags">
                <span class="post-series-label">üè∑Ô∏è Tags:</span>
                
                <a href="/tags/python">#python</a>
                
            </div>
            
            
            
            
            
            <hr>
            
            <div class="post-content">
                <h2 id="searching-and-replacing-the-text-in-a-file">Searching and Replacing the text in a File</h2>
<p>Using simple python semantics, we can perform search and replace in a file. Firstly, we will define the file name, along with the words to search and replace. After defining the sets of variables, we will open the file in <code>r+</code> mode i.e. we can perform read as well as write operations in the file.</p>
<p>We will store the entire file contents using the <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files">read</a> function, the contents of file are now stored in the form of a string. We further can set the position of the cursor or the current position in the file using the <a href="https://python-reference.readthedocs.io/en/latest/docs/file/seek.html">seek</a> function. The seek function takes in a optional parameter as the position to set for reading/writing of file. Using the <a href="https://python-reference.readthedocs.io/en/latest/docs/file/truncate.html">truncate</a> function, we can clear all the contents of the file.</p>
<p>Finally, we generate the content by replacing the words i.e. the old word with the new word from the string which we store the contents. After replacing the content in the string, we write the string variable into the file and hence the substitution was performed in the text file.</p>
<div class="code-block"><div class="code-header"><span class="language-name">python</span><button class="copy-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></button></div><pre><code class="language-python">file_name = 'temp.txt'
old_text = 'foo'
new_text = 'python'

with open(file_name, "r+") as fname:
    lines = fname.read()
    fname.seek(0)
    fname.truncate(0)
    subs = lines.replace(old_text, new_text)
    fname.write(subs)
</code></pre></div><p><img src="https://res.cloudinary.com/techstructive-blog/image/upload/v1648479344/blog-media/cstvfdlazyfriwvnilju.png" alt="Python Search Replace in File"></p>

            </div>
        </article>
        
        
        

<nav class="post-navigation" aria-label="Post Navigation">
    <div class="nav-container">
        
        
        <a href="/til/vim-get-visual-text" class="nav-link nav-prev" title="Previous Post">
            <span class="nav-arrow">‚Üê</span>
            <span class="nav-label">Previous</span>
            <span class="nav-title">Vim: Get the Text from Visual Selection</span>
        </a>
        

        
        
        <a href="/til/vim-python-black-autoformat" class="nav-link nav-next" title="Next Post">
            <span class="nav-label">Next</span>
            <span class="nav-title">Autoformat Python file with Black after saving in Vim</span>
            <span class="nav-arrow">‚Üí</span>
        </a>
        
    </div>
</nav>


        
        
        


<aside class="related-reading" aria-labelledby="related-reading-title">
    <h3 id="related-reading-title" class="related-title">üìö Related Reading</h3>
    <ul class="related-list">
        
        
        <li class="related-item">
            <a href="/til/python-chain-assignment-gotcha" class="related-link">
                <span class="related-post-title">Gotcha with Chained Assignment in Python</span>
                <span class="related-post-date">2024-11-27 22:15:00</span>
            </a>
        </li>
        
        
        
        <li class="related-item">
            <a href="/til/python-dict-to-csv-table" class="related-link">
                <span class="related-post-title">Turn Python dictionary into a neat CSV table</span>
                <span class="related-post-date">2024-03-20 22:30:00</span>
            </a>
        </li>
        
        
        
        <li class="related-item">
            <a href="/posts/django-htmx-chat-app" class="related-link">
                <span class="related-post-title">Creating a Chat Application with Django and HTMX</span>
                <span class="related-post-date">2023-02-05 17:15:00</span>
            </a>
        </li>
        
        
        
        <li class="related-item">
            <a href="/til/django-non-clustered-index-pg" class="related-link">
                <span class="related-post-title">Create a Non-Clustered Index in Django with Postgres as DB</span>
                <span class="related-post-date">2022-11-10 22:10:00</span>
            </a>
        </li>
        
        
        
        <li class="related-item">
            <a href="/til/django-bulk-update-queryset" class="related-link">
                <span class="related-post-title">Django Bulk Update QuerySet objects</span>
                <span class="related-post-date">2022-10-31 18:00:00</span>
            </a>
        </li>
        
        
    </ul>
</aside>


    </main>
    
    <div id="comments">
        <script src="https://giscus.app/client.js"
            data-repo="Mr-Destructive/meetgor.com"
            data-repo-id="R_kgDOHZ6V_g"
            data-category="Q&A"
            data-category-id="DIC_kwDOHZ6V_s4CRfn4"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="bottom"
            data-theme="dark_high_contrast"
            data-lang="en"
            crossorigin="anonymous"
            async>
        </script>
    </div>
    
    <footer class="site-footer" role="contentinfo">
  <div class="footer-content">
    <p>&copy; Meet Gor. All rights reserved.</p>
    <div class="social-links">
      <a href="/contact" aria-label="Connect with me">Connect with me</a>
    </div>
  </div>
</footer>
    
</body>
</html>
