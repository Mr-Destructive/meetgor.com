<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>{{ if .Post }}{{ .Post.Frontmatter.Title }}{{ else }}{{ .FeedInfo.Title }}{{ end }} | {{ .Config.Blog.Name }}</title>
    <meta name="description" content="{{ if .Post }}{{ .Post.Frontmatter.Description }}{{ else }}{{ .Config.Blog.Description }}{{ end }}">
    <meta name="author" content="Meet Gor">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{{ .Config.Blog.BaseUrl }}/{{ if .Post }}{{ .Post.Frontmatter.Slug }}{{ else }}{{ .FeedInfo.Slug }}{{ end }}">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:url" content="{{ .Config.Blog.BaseUrl }}/{{ if .Post }}{{ .Post.Frontmatter.Slug }}{{ else }}{{ .FeedInfo.Slug }}{{ end }}">
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ .Config.Blog.Name }} | {{ if .Post }}{{ .Post.Frontmatter.Title }}{{ else }}{{ .FeedInfo.Title }}{{ end }}">
    <meta property="og:description" content="{{ if .Post }}{{ .Post.Frontmatter.Description }}{{ else }}{{ .Config.Blog.Description }}{{ end }}">
    {{ if or (and .Post .Post.Frontmatter.ImageUrl) }}
        <meta property="og:image" content="{{ .Post.Frontmatter.ImageUrl }}">
        <meta name="twitter:image" content="{{ .Post.Frontmatter.ImageUrl }}">
    {{ else }}
        <meta property="og:image" content="{{ .Config.Blog.BaseUrl }}/tbicon.png">
        <meta name="twitter:image" content="{{ .Config.Blog.BaseUrl }}/tbicon.png">
    {{ end }}
    <meta property="og:site_name" content="{{ .Config.Blog.Name }}">
    
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@meetgor711">
    <meta name="twitter:creator" content="@meetgor711">
    <meta name="twitter:title" content="{{ .Config.Blog.Name }} | {{ if .Post }}{{ .Post.Frontmatter.Title }}{{ else }}{{ .FeedInfo.Title }}{{ end }}">
    <meta name="twitter:description" content="{{ if .Post }}{{ .Post.Frontmatter.Description }}{{ else }}{{ .Config.Blog.Description }}{{ end }}">
    
    <!-- Favicon -->
    <link rel="icon" href="/tbicon.png" type="image/png">
    <link rel="apple-touch-icon" href="/tbicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/code-block.css">
    <link rel="stylesheet" href="/style.css">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EET2ZX4QY1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-EET2ZX4QY1');
    </script>
</head>
<body>
    {{ template "header.html" . }}
    
    <main class="container">
        <article class="page-content">
            <h1>{{ if .Post }}{{ .Post.Frontmatter.Title }}{{ else }}{{ .FeedInfo.Title }}{{ end }}</h1>
            <div class="post-content">
                {{ if .Post }}{{ .Post.Content }}{{ else }}{{ range .FeedInfo.Posts }}{{ .Content }}{{ end }}{{ end }}
            </div>
        </article>
    </main>
    
    {{ template "footer.html" . }}
    
    <script>
        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            
            if (!themeToggle) return;
            
            // Check for saved theme or default to light mode
            const currentTheme = localStorage.getItem('theme') || 'default';
            
            // Apply saved theme
            if (currentTheme === 'secondary') {
                body.classList.add('secondary-theme');
                themeToggle.checked = true;
            }
            
            // Listen for theme toggle changes
            themeToggle.addEventListener('change', () => {
                if (themeToggle.checked) {
                    body.classList.add('secondary-theme');
                    localStorage.setItem('theme', 'secondary');
                } else {
                    body.classList.remove('secondary-theme');
                    localStorage.setItem('theme', 'default');
                }
            });
        });
    </script>
    
</body>
</html>
